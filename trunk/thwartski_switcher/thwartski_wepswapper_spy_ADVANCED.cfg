//THWARTSKI_WEPSWAPPER_SPY_ADVANCED.CFG
//Executed from spy.cfg

//-------------------------------------------------------------------
//						       ABOUT
//-------------------------------------------------------------------

//This advanced spy config has two extra sections below (Special Revolver Crosshairs, 
//and Special Revolver Settings). You can enable it from spy.cfg. 

//It incorporates two ideas inspired by Stabby's spy configs: (http://tinyurl.com/78gjvk7)
	//1. Hide revolver when firing, so the reload animation doesn't block the crosshair.
	//2. Change crosshair to small dot when firing revolver, so ambassador's cooldown isn't so obnoxious.

//My implementation has some differences from his, and I'd be interested to get some feedback on it. 

//-------------------------------------------------------------------
//						 WEAPONSWAP SYSTEM
//-------------------------------------------------------------------

//Set up the main weaponswap script, and the crosshairs that all weapons will use.
exec thwartski_wepswapper
exec thwartski_wepswapper_crosshairs

//Update the weaponswap system to handle the extra PDA slot that spies have.
alias mousewheelprimary   "alias scrollswapbackward equipsecondary;    alias scrollswapforward equipPDAdisguiser"
alias mousewheelsecondary "alias scrollswapbackward equiptertiary;     alias scrollswapforward equipprimary"
alias mousewheeltertiary  "alias scrollswapbackward equipPDAdisguiser; alias scrollswapforward equipsecondary"
alias mousewheeldisguiser "alias scrollswapbackward equipprimary;      alias scrollswapforward equiptertiary"

//-------------------------------------------------------------------
//						   CLASS WEAPONS                 **EDIT ME!**
//-------------------------------------------------------------------

//What order will thwartski_wepswapper.cfg swap weapons in?
//For spy, keeping the Valve defaults or reordering are both good options:

alias primaryslot   "revolver"  //Also try setting this to "knife"
alias secondaryslot "sapper"	//Also try setting this to "revolver"
alias tertiaryslot  "knife" 	//Also try setting this to "sapper"
alias disguiserslot "disguiser"

//-------------------------------------------------------------------
//					 SPECIAL REVOLVER CROSSHAIRS         **EDIT ME!**
//-------------------------------------------------------------------

//Define the crosshair the revolver uses while it's being fired.
alias xhairambydot 	 "hideweapons; cl_crosshair_file crosshair5; cl_crosshair_scale 12"

//The ambassador also shrinks the crosshair when it isn't cooling down. 
//This increases it back to my normal size.
alias xhairambylarge "cl_crosshair_scale 38"

//-------------------------------------------------------------------
//						  CLASS CROSSHAIRS               **EDIT ME!**
//-------------------------------------------------------------------

//Which crosshairs from thwartski_wepswapper_crosshairs.cfg will each weapon use?
//Showweapons enables viewmodel even when other classes have guns hidden
//(because spy's arms have extra cloak information).

alias revolver 	"slot1; revolversettings;  xhairprecise; xhairambylarge; showweapons" //Revolver now also has special settings(see below). 
alias sapper 	"slot2; normalsettings;    xhairvalve;                   showweapons"
alias knife 	"slot3; normalsettings;    xhairmelee;                   showweapons"	
alias disguiser "slot4; disguisersettings; DONOTMODIFY;                  showweapons" //PDAs have special settings (see below).

//-------------------------------------------------------------------
//					   SPECIAL PDA CROSSHAIRS
//-------------------------------------------------------------------

//The disguiser works in such a way that it can't support its own crosshair settings.
//If it has its own crosshair, it won't be able to reset properly after a disguise is chosen.
alias DONOTMODIFY ""//Just let it keep the settings from the previous weapon.

//-------------------------------------------------------------------
//					 SPECIAL DISGUISER SETTINGS
//-------------------------------------------------------------------

//Special case for the disguiser PDA.
//TF2 equips the most recent non-PDA weapon when Mouse1 is clicked to cancel the PDA.
//This allows the swapper system and crosshairs to keep up.
alias disguisersettings "bind MOUSE1 PDAfallback"

//-------------------------------------------------------------------
//					  SPECIAL REVOLVER SETTINGS
//-------------------------------------------------------------------

//Special settings for the revolver, and a way to clean them up.
alias revolversettings  "bind MOUSE1 +revolverattack; bind MOUSE2 +revolvercloak; bind SPACE +revolverjump; alias jumpreset donothing"
alias normalsettings    "bind MOUSE1 +attack;         bind MOUSE2 +attack2;       bind SPACE +jump"

//Change to the dot crosshair (including invisible weapons) on attack. 
alias +revolverattack "+attack;  xhairambydot; alias jumpreset resetcrosshair; spec_next"
alias -revolverattack "-attack"

//Reload the revolver's settings on cloak, which resets the crosshair and weapon visibility.
alias +revolvercloak  "+attack2; revolver; alias jumpreset donothing; spec_prev"
alias -revolvercloak  "-attack2"

//Swapping weapons or cloaking restores the normal crosshair and weapon visibility, 
//but jumping restores the crosshair without while keeping the weapon hidden.
alias +revolverjump "+jump; jumpreset; spec_mode"
alias -revolverjump "-jump"

//After the revolver has been fired, jumping restores the crosshair from the dot to its normal crosshair,
//but it will keep the weapon model hidden. If the revolver hasn't been fired yet, jumping does extra. 
alias jumpreset      "donothing"
alias donothing      ""
alias resetcrosshair "revolver; hideweapons"

//-------------------------------------------------------------------
//						  DEFAULT WEAPON
//-------------------------------------------------------------------

//Equip the primary weapon on spawn, in case it has special settings
//or the swapper's default weapon differs from Valve's default.
equipprimary

//-------------------------------------------------------------------
//						     FEEDBACK
//-------------------------------------------------------------------

//Print to console.
echo "CONFIG EXECUTED - THWARTSKI_WEPSWAPPER_SPY_ADVANCED.CFG"

